webpackJsonp([3],{"9XKR":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),n=a.n(i),s=a("Dd8w"),o=a.n(s),r=a("gDR0"),c=a("/C1n"),l=a("NYxO"),u={components:{Info:r.a},props:{list:{type:Array,default:function(){return[]}}},data:function(){return{infolist:[],infoData:{},loading:!1,flag:{news:"学术新闻",achievements:"学术成果",knowledge:"相关知识",newactivity:"近期活动",oldactivity:"往期活动",search:"查询结果"},flag1:{"/news":"news","/achievements":"achievements","/chances":"chances","/newactivity":"newactivity","/oldactivity":"oldactivity","/search":"search"},isShow:!0,currentPage:1,pageSize:10,pageCount:4}},computed:o()({},Object(l.b)({getSearchResult:"getSearchResult"})),methods:o()({},Object(l.c)({setInfoData:"setInfoData"}),{selectItem:function(t,e){this.infoData=this.infolist.find(function(e){return e.id===t}),this.isShow=!1,this.$router.push(this.$route.path+"/"+t),this.setInfoData(n()(this.infoData)),Object(c.b)(t,e)},changePage:function(t){var e=this;console.log(this.flag1[this.$route.path]),Object(c.a)(this.flag1[this.$route.path],this.pageSize,this.currentPage).then(function(t){"200"===t.data.resultCode&&(e.infolist=t.data.page.list)})}}),watch:{getSearchResult:function(t){this.infolist=JSON.parse(t)}},beforeRouteEnter:function(t,e,a){a(function(e){e.isShow=!0,t.query.infoData&&(e.isShow=!1,e.$router.push(t.path+"/"+t.query.infoData.id),e.infoData=t.query.infoData),"/search"===t.path&&(e.infolist=JSON.parse(e.getSearchResult))})},beforeRouteUpdate:function(t,e,a){var i=this,n=this;if(t.params.id)a();else{a();var s=this.flag1[t.path];"search"!==s?(this.isShow=!0,this.loading=!0,Object(c.a)(s,10,this.currentPage).then(function(t){"200"===t.data.resultCode?(n.infolist=t.data.page.list,n.pageCount=t.data.page.pages):n.infolist=[],i.loading=!1})):n.infolist=JSON.parse(this.getSearchResult)}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"info-list"},[a("router-view",{attrs:{infoData:t.infoData}}),t._v(" "),a("el-breadcrumb",{staticClass:"breadcrumb",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",[t._v(t._s(t.flag[t.$route.params.name]))])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"list-show"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.flag[t.$route.params.name]))])]),t._v(" "),a("info",{attrs:{info:t.infolist,infoType:t.$route.params.name,big:""},on:{select:t.selectItem}}),t._v(" "),t.infolist.length>0?a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-count":t.pageCount,"current-page":t.currentPage},on:{"update:currentPage":function(e){t.currentPage=e},"current-change":t.changePage}})],1):t._e()],1)],1)],1)},staticRenderFns:[]};var h=a("VU/8")(u,f,!1,function(t){a("Sgrv")},"data-v-da3229d4",null);e.default=h.exports},LX7Q:function(t,e){},Sgrv:function(t,e){},gDR0:function(t,e,a){"use strict";var i=a("bxER"),n={filters:{formatDate:function(t){var e=new Date;return Object(i.a)(e,"yyyy-MM-dd")}},props:{info:{type:Array,default:function(){return[]}},infoType:{type:String,default:""},hasImg:{type:Boolean,default:!1},big:{type:Boolean,default:!1},noTime:{type:Boolean,default:!1}},methods:{selectItem:function(t){console.log("infoType: "+this.infoType),this.$emit("select",t,this.infoType)}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"news"},[a("div",{staticClass:"news-wrapper"},[0===t.info.length?a("div",{staticClass:"text-warning"},[t._v("暂无数据")]):t._e(),t._v(" "),t._l(t.info,function(e){return a("div",{key:e.id,staticClass:"news-list",class:{big:t.big}},[a("span",{staticClass:"text",class:{small:t.noTime,long:t.big},attrs:{title:e.title},on:{click:function(a){t.selectItem(e.id)}}},[t._v(t._s(e.title))]),t._v(" "),t.noTime?t._e():a("span",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(e.time)))])])})],2)])},staticRenderFns:[]};var o=a("VU/8")(n,s,!1,function(t){a("LX7Q")},null,null);e.a=o.exports}});
//# sourceMappingURL=3.33057b3ed86166b2c76a.js.map