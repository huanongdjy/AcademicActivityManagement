(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51bfe57a"],{"9f12":function(t,e,r){"use strict";r.d(e,"a",function(){return a}),r.d(e,"d",function(){return i}),r.d(e,"e",function(){return o}),r.d(e,"c",function(){return u}),r.d(e,"f",function(){return d}),r.d(e,"b",function(){return l});var n=r("75c5");function a(t){return Object(n["a"])({url:"/addEssay",method:"post",data:t,withCredentials:!0})}function i(t,e,r){var a={pageSize:t,currentPage:e,type:r};return Object(n["a"])({url:"/getInformationWithPage",method:"post",data:a,withCredentials:!0})}function o(t){return Object(n["a"])({url:"/searchEssays",method:"post",data:t,withCredentials:!0})}function u(t){return Object(n["a"])({url:"/deleteEssay",method:"post",data:t,withCredentials:!0})}function d(t){return Object(n["a"])({url:"/updateEssay",method:"post",data:t,withCredentials:!0})}function l(t,e){var r={id:t,toshow:e};return Object(n["a"])({url:"/changeEssayToshow",method:"post",data:r,withCredentials:!0})}},a6cb:function(t,e,r){"use strict";r.r(e);r("ac6a"),r("a753"),r("8096"),r("14e1");var n=r("c38e"),a=r("953d"),i=r("5dde"),o=r("c276"),u=r("9f12");a["Quill"].register("modules/ImageExtend",i["a"]);var d,l,s={components:{quillEditor:a["quillEditor"]},props:{editValue:{type:Object,default:function(){return{id:"",title:"",theme:"",summary:"",location:"",fund:"",organizer:"",planned_attendance:"",type_id:"",date:"",time:"",ordering:"",content:"",photoList:[]}}},tomethod:{type:String}},data:function(){var t=this,e=function(t,e,r){""===e?r(new Error("请输入名称")):r()},r=function(t,e,r){""===e?r(new Error("请输入摘要")):r()},a=function(t,e,r){""===e?r(new Error("请输入内容")):r()},u=function(t,e,r){""===e?r(new Error("请选择时间")):r()},d=function(t,e,r){""===e?r(new Error("请输入日期")):r()},l=function(t,e,r){""===e?r(new Error("请选择类型")):r()},s=function(t,e,r){""===e?r(new Error("请输入举办地点")):r()},c=function(t,e,r){""===e?r(new Error("请输入举办所需资金")):r()},f=function(t,e,r){""===e?r(new Error("请输入举办者")):r()},g=function(t,e,r){""===e?r(new Error("可容纳人数")):r()};return{url:n["a"],uploadList:[],ruleValid:{title:[{validator:e,trigger:"blur"}],summary:[{validator:r,trigger:"blur"}],content:[{validator:a,trigger:"blur"}],time:[{validator:u,trigger:"blur"}],date:[{validator:d,trigger:"blur"}],type_id:[{validator:l,trigger:"blur"}],location:[{validator:s,trigger:"blur"}],fund:[{validator:c,trigger:"blur"}],organizer:[{validator:f,trigger:"blur"}],planned_attendance:[{validator:g,trigger:"blur"}]},token:Object(o["j"])(),editorOption:{modules:{ImageExtend:{loading:!0,name:"file",size:2,action:this.url+"uploadPhoto",response:function(e){return t.uploadList.push({url:e.url}),t.url+"uploaded/"+e.url},headers:function(e){e.withCredentials=!0,e.setRequestHeader("Authorization",t.token)}},toolbar:{container:i["c"],handlers:{image:function(){i["b"].emit(this.quill.id)}}}}}}},methods:{handleSubmit:function(){var t=this;this.$refs["editValue"].validate(function(e){if(!e)return!1;0!==t.uploadList.length&&t.uploadList.forEach(function(e){t.editValue.photoList.push(e)}),"add"===t.tomethod?Object(u["a"])(t.editValue).then(function(e){200===e.data.resultCode?(t.$emit("updatePage"),t.$Message.info(e.data.message)):400===e.data.resultCode&&t.$Message.info(e.data.message)}):"update"===t.tomethod&&Object(u["f"])(t.editValue).then(function(e){200===e.data.resultCode?(t.$emit("updatePage"),t.$Message.info(e.data.message)):400===e.data.resultCode&&t.$Message.info(e.data.message)}),t.uploadList=[],t.$emit("changeVisible",!1)})}}},c=s,f=r("2877"),g=Object(f["a"])(c,d,l,!1,null,null,null);g.options.__file="editor.vue";e["default"]=g.exports}}]);